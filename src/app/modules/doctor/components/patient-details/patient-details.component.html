<div class="breadcrumb-container">
  <h2 class="page-title">Patients List</h2>
  <hr class="underline" />
</div>

<div class="filters">
  <div class="search-container">
    <label for="searchNameInput">Patient Name</label>
    <input type="text" id="searchNameInput" placeholder="Search by patient name" [(ngModel)]="searchText" />
    <div>
      <span class="search-icon">
        <i class="fas fa-search" style="color: #389d93;"></i>
      </span>
    </div>
  </div>
</div>

<div class="container">
  <div class="card-grid">
    <div class="card" *ngFor="let item of paginatedAppointments">
      <div class="icon-circle">
        <img src="/assets/doctorf.png" alt="doctor icon" />
      </div>
      <h3>{{ item.patient?.name || 'Unknown' }}</h3>
      <button (click)="goToDetails(item.appointment.id!)">View appointment details</button>
    </div>
  </div>
</div>

<div class="pagination" *ngIf="totalPages > 1">
  <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">‹</button>

  <button *ngFor="let page of [].constructor(totalPages); let i = index" (click)="changePage(i + 1)"
    [class.active]="currentPage === i + 1">
    {{ i + 1 }}
  </button>

  <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">›</button>
</div>

<p class="entry-count" *ngIf="totalPages > 1">
  Showing {{ paginatedAppointments.length }} out of {{ filteredAppointments.length }} entries
</p>